var j=Object.defineProperty,P=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var y=(e,t,o)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,E=(e,t)=>{for(var o in t||={})S.call(t,o)&&y(e,o,t[o]);if(g)for(var o of g(t))O.call(t,o)&&y(e,o,t[o]);return e},I=(e,t)=>P(e,v(t));var c=(e,t,o)=>new Promise((n,r)=>{var s=a=>{try{i(o.next(a))}catch(l){r(l)}},u=a=>{try{i(o.throw(a))}catch(l){r(l)}},i=a=>a.done?n(a.value):Promise.resolve(a.value).then(s,u);i((o=o.apply(e,t)).next())});import{runInInjectionContext as X}from"@angular/core";var R="__NATIVE_FEDERATION__",b=globalThis;b[R]??={externals:new Map,remoteNamesToRemote:new Map,baseUrlToRemoteNames:new Map};var p=b[R],x=p.externals;function T(e){return`${e.packageName}@${e.version}`}function $(e){let t=T(e);return x.get(t)}function _(e,t){let o=T(e);x.set(o,t)}var M=p.remoteNamesToRemote,h=p.baseUrlToRemoteNames;function A(e,t){M.set(e,t),h.set(t.baseUrl,e)}function C(e){return h.get(e)}function U(e){return h.has(e)}function D(e){return M.get(e)}function z(e){document.head.appendChild(Object.assign(document.createElement("script"),{type:"importmap-shim",innerHTML:JSON.stringify(e)}))}function w(e){let t=e.split("/");return t.pop(),t.join("/")}function d(e,t){for(;e.endsWith("/");)e=e.substring(0,e.length-1);return t.startsWith("./")&&(t=t.substring(2,t.length)),`${e}/${t}`}var k=(function(e){return e.COMPLETED="federation-rebuild-complete",e.ERROR="federation-rebuild-error",e})(k||{});function K(e){let t=new EventSource(e);t.onmessage=function(o){JSON.parse(o.data).type===k.COMPLETED&&(console.log("[Federation] Rebuild completed, reloading..."),window.location.reload())},t.onerror=function(o){console.warn("[Federation] SSE connection error:",o)}}function V(e,t){return c(this,null,function*(){let o=w(e),n=yield H(e);t||(t=n.name),n.buildNotificationsEndpoint&&K(o+n.buildNotificationsEndpoint);let r=W(n,t,o);return A(t,I(E({},n),{baseUrl:o})),r})}function W(e,t,o){let n=q(e,t,o),r=L(e,o);return{imports:n,scopes:r}}function H(e){return c(this,null,function*(){return yield fetch(e).then(o=>o.json())})}function L(e,t){let o={},n={};for(let r of e.shared){let s=$(r)??d(t,r.outFileName);_(r,s),n[r.packageName]=s}return o[t+"/"]=n,o}function q(e,t,o){let n={};for(let r of e.exposes){let s=d(t,r.key),u=d(o,r.outFileName);n[s]=u}return n}function F(e,t){return c(this,null,function*(){let o=Q(e,t);yield G(o);let n=J(o),r=D(n),s=o.fallback,u=r?"":"unknown remote "+n;if(!r&&!s)throw new Error(u);if(!r)return N(u),Promise.resolve(s);let i=r.exposes.find(f=>f.key===o.exposedModule),a=i?"":`Unknown exposed module ${o.exposedModule} in remote ${n}`;if(!i&&!s)throw new Error(a);if(!i)return N(a),Promise.resolve(s);let l=d(r.baseUrl,i.outFileName);try{return B(l)}catch(f){if(s)return console.error("error loading remote module",f),s;throw f}})}function B(e){return typeof importShim<"u"?importShim(e):import(e)}function J(e){let t;if(e.remoteName)t=e.remoteName;else if(e.remoteEntry){let o=w(e.remoteEntry);t=C(o)}else throw new Error("unexpcted arguments: Please pass remoteName or remoteEntry");if(!t)throw new Error("unknown remoteName "+t);return t}function G(e){return c(this,null,function*(){if(e.remoteEntry&&!U(w(e.remoteEntry))){let t=yield V(e.remoteEntry);z(t)}})}function Q(e,t){let o;if(typeof e=="string"&&t)o={remoteName:e,exposedModule:t};else if(typeof e=="object"&&!t)o=e;else throw new Error("unexpected arguments: please pass options or a remoteName/exposedModule-pair");return o}function N(e){typeof window<"u"&&console.error(e)}import*as m from"@angular/core";var ie=(()=>{class e{injector;remote;readyPromise;constructor(o){this.injector=o}initRemote(){return this.readyPromise||(this.readyPromise=c(this,null,function*(){let o=yield F({remoteName:"auth",exposedModule:"./AuthService"});return this.remote=X(this.injector,()=>new o.AuthService),this.remote})),this.readyPromise}authorizationHeader(o=200,n=10){return c(this,null,function*(){let r=yield this.initRemote(),s,u=0;do{if(s=yield r.authorizationHeader(),s)break;if(u++,u>=n)throw new Error("Auth header not ready after max retries");yield new Promise(i=>setTimeout(i,o))}while(!s);return s})}getUser$(){return c(this,null,function*(){return(yield this.initRemote()).user$})}logout(){return c(this,null,function*(){return(yield this.initRemote()).logout()})}static \u0275fac=function(n){return new(n||e)(m.\u0275\u0275inject(m.EnvironmentInjector))};static \u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{E as a,I as b,c,F as d,ie as e};
