import{a as u,b as p}from"./chunk-UGN2HBN6.js";import"./chunk-LRHUUDAY.js";import"./chunk-2VMXMS7J.js";import{inject as N,signal as R,computed as k}from"@angular/core";import{CommonModule as L}from"@angular/common";import{input as C,signal as E}from"@angular/core";import{CommonModule as S}from"@angular/common";import{RouterLink as _}from"@angular/router";import*as e from"@angular/core";var y=()=>["/lk/jobs"],h=i=>({currentId:i});function A(i,a){if(i&1&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",13),e.\u0275\u0275element(2,"i",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",4)(4,"p",16),e.\u0275\u0275text(5,"Accepted"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",17),e.\u0275\u0275text(7,"Congratulations! Your application has been accepted"),e.\u0275\u0275elementEnd()()()),i&2){let n=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(),e.\u0275\u0275classMap(n.getStepClasses("ACCEPTED",r.status))}}function w(i,a){if(i&1&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",22),e.\u0275\u0275element(2,"i",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",4)(4,"p",16),e.\u0275\u0275text(5,"Rejected"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",17),e.\u0275\u0275text(7,"Unfortunately, your application was not selected"),e.\u0275\u0275elementEnd()()()),i&2){let n=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(),e.\u0275\u0275classMap(n.getStepClasses("REJECTED",r.status))}}function T(i,a){if(i&1&&(e.\u0275\u0275elementStart(0,"div",20)(1,"div",24)(2,"p",25),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),i&2){e.\u0275\u0275nextContext(3);let n=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.note)}}function I(i,a){if(i&1&&(e.\u0275\u0275elementStart(0,"div",8)(1,"div",9),e.\u0275\u0275element(2,"div",10),e.\u0275\u0275elementStart(3,"div",11)(4,"div",12)(5,"div",13),e.\u0275\u0275element(6,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",15)(8,"p",16),e.\u0275\u0275text(9,"Application Submitted"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"p",17),e.\u0275\u0275text(11,"Your application has been sent"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",12)(13,"div",13),e.\u0275\u0275element(14,"i",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",15)(16,"p",16),e.\u0275\u0275text(17,"Application Viewed"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p",17),e.\u0275\u0275text(19,"Recruiter has reviewed your application"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",12)(21,"div",13),e.\u0275\u0275element(22,"i",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",15)(24,"p",16),e.\u0275\u0275text(25,"Interview"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"p",17),e.\u0275\u0275text(27,"You will be contacted if you are shortlisted for the interview."),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275conditionalCreate(28,A,8,2,"div",12),e.\u0275\u0275conditionalCreate(29,w,8,2,"div",12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275conditionalCreate(30,T,4,1,"div",20)),i&2){let n=e.\u0275\u0275nextContext(2),r=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(5),e.\u0275\u0275classMap(n.getStepClasses("SUBMITTED",r.status)),e.\u0275\u0275advance(8),e.\u0275\u0275classMap(n.getStepClasses("VIEWED",r.status)),e.\u0275\u0275advance(8),e.\u0275\u0275classMap(n.getStepClasses("INTERVIEW",r.status)),e.\u0275\u0275advance(7),e.\u0275\u0275conditional(r.status=="ACCEPTED"?28:-1),e.\u0275\u0275advance(),e.\u0275\u0275conditional(r.status=="REJECTED"?29:-1),e.\u0275\u0275advance(),e.\u0275\u0275conditional(r.note?30:-1)}}function D(i,a){if(i&1){let n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);let o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openAccordion.set(!o.openAccordion()))}),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"img",3),e.\u0275\u0275elementStart(4,"div",4)(5,"h3",5),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p",6),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"span",7),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275conditionalCreate(11,I,31,9),e.\u0275\u0275elementEnd()}if(i&2){let n=e.\u0275\u0275nextContext(),r=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(3),e.\u0275\u0275property("src",r.job.company.avatar,e.\u0275\u0275sanitizeUrl)("alt",r.job.company.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(10,y))("queryParams",e.\u0275\u0275pureFunction1(11,h,r.job.id)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",r.job.position," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.job.company.name," "),e.\u0275\u0275advance(),e.\u0275\u0275classMap(n.statusBadgeClasses(r.status)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.getStatusText(r.status)," "),e.\u0275\u0275advance(),e.\u0275\u0275conditional(n.openAccordion()?11:-1)}}var f=(()=>{class i{openAccordion=E(!1);application=C();getStatusText(n){return{SUBMITTED:"Submitted",VIEWED:"Viewed",INTERVIEW:"Interview",ACCEPTED:"Accepted",REJECTED:"Rejected"}[n]}statusBadgeClasses(n){return`mfe-user-px-3 mfe-user-py-1 mfe-user-rounded-full mfe-user-text-sm mfe-user-font-medium ${{SUBMITTED:"mfe-user-bg-blue-100 mfe-user-text-blue-800",VIEWED:"mfe-user-bg-purple-100 mfe-user-text-purple-800",INTERVIEW:"mfe-user-bg-yellow-100 mfe-user-text-yellow-800",ACCEPTED:"mfe-user-bg-green-100 mfe-user-text-green-800",REJECTED:"mfe-user-bg-red-100 mfe-user-text-red-800"}[n]}`}getStepClasses(n,r){let o=["SUBMITTED","VIEWED","INTERVIEW","ACCEPTED","REJECTED"],l=o.indexOf(r),m=o.indexOf(n);return m<l?"mfe-user-bg-green-500 mfe-user-border-green-500 mfe-user-text-white":m===l?"mfe-user-bg-white mfe-user-border-green-500 mfe-user-text-green-500":"mfe-user-bg-gray-100 mfe-user-border-gray-300 mfe-user-text-gray-400"}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mfe-user-job-application"]],inputs:{application:[1,"application"]},decls:2,vars:2,consts:[[1,"mfe-user-bg-white","mfe-user-border","mfe-user-border-gray-200","mfe-user-rounded-xl","mfe-user-shadow-sm","mfe-user-overflow-hidden"],[1,"mfe-user-p-6","max-sm:mfe-user-p-2","mfe-user-border-b","mfe-user-border-gray-200",3,"click"],[1,"mfe-user-flex","mfe-user-items-center","mfe-user-gap-4"],[1,"max-sm:mfe-user-w-8","max-sm:mfe-user-h-8","mfe-user-w-12","mfe-user-h-12","mfe-user-rounded-lg","mfe-user-object-cover","mfe-user-border","mfe-user-border-gray-200",3,"src","alt"],[1,"mfe-user-flex-1"],[1,"mfe-user-cursor-pointer","mfe-user-text-sm","sm:mfe-user-text-lg","mfe-user-font-semibold","hover:mfe-user-underline","mfe-user-text-gray-900","sm:mfe-user-w-max",3,"routerLink","queryParams"],[1,"mfe-user-text-gray-600","mfe-user-mt-1","mfe-user-text-xs","sm:mfe-user-text-md"],[1,"max-424:mfe-user-hidden","mfe-user-px-3","mfe-user-py-1","mfe-user-rounded-full","mfe-user-text-sm","mfe-user-font-medium"],[1,"mfe-user-p-6"],[1,"mfe-user-relative"],[1,"mfe-user-absolute","mfe-user-left-4","mfe-user-top-0","mfe-user-bottom-0","mfe-user-w-0.5","mfe-user-bg-gray-200"],[1,"mfe-user-space-y-6"],[1,"mfe-user-relative","mfe-user-flex","mfe-user-gap-4"],[1,"mfe-user-w-8","mfe-user-h-8","mfe-user-rounded-full","mfe-user-flex","mfe-user-items-center","mfe-user-justify-center","mfe-user-z-10","mfe-user-border-2"],[1,"fa-solid","fa-paper-plane","mfe-user-text-xs"],[1,"mfe-user-flex-1","mfe-user-pb-6"],[1,"mfe-user-font-medium","mfe-user-text-gray-900"],[1,"mfe-user-text-sm","mfe-user-text-gray-500","mfe-user-mt-1"],[1,"fa-solid","fa-eye","mfe-user-text-xs"],[1,"fa-solid","fa-calendar","mfe-user-text-xs"],[1,"mfe-user-px-6","mfe-user-pb-6"],[1,"fa-solid","fa-check","mfe-user-text-xs"],[1,"mfe-user-w-8","mfe-user-h-8","mfe-user-rounded-full","mfe-user-flex","mfe-user-items-center","mfe-user-justify-center","mfe-user-z-10","mfe-user-border-2","mfe-user-border-red-500","mfe-user-bg-red-50"],[1,"fa-solid","fa-times","mfe-user-text-xs"],[1,"mfe-user-bg-blue-50","mfe-user-border","mfe-user-border-blue-200","mfe-user-rounded-lg","mfe-user-p-4"],[1,"mfe-user-text-sm","mfe-user-text-blue-800"]],template:function(r,o){if(r&1&&(e.\u0275\u0275declareLet(0),e.\u0275\u0275conditionalCreate(1,D,12,13,"div",0)),r&2){let l=e.\u0275\u0275storeLet(o.application());e.\u0275\u0275advance(),e.\u0275\u0275conditional(l?1:-1)}},dependencies:[S,_],encapsulation:2})}return i})();import{inject as j,signal as M}from"@angular/core";import{inject as J}from"@angular/core";import*as d from"@angular/core";var c=(()=>{class i{http=J(p);baseUrl="http://localhost:8083/mbe-company/api/v1/applications";getAppliedJobs(){return this.http.get(`${this.baseUrl}/applied-jobs`)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=d.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();import*as x from"@angular/core";var b=(()=>{class i{appliedJobsService=j(c);jobApplicationSignal=M([]);jobApplications=this.jobApplicationSignal.asReadonly();loadJobApplications(){this.jobApplicationSignal.set(null),this.appliedJobsService.getAppliedJobs().subscribe({next:n=>{this.jobApplicationSignal.set(n)}})}static \u0275fac=function(r){return new(r||i)};static \u0275prov=x.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();import"@angular/core";import*as s from"@angular/core";var F=()=>[1,2,3,4];function V(i,a){i&1&&(s.\u0275\u0275domElementStart(0,"div",0)(1,"div",1),s.\u0275\u0275domElement(2,"div",2),s.\u0275\u0275domElementStart(3,"div",3),s.\u0275\u0275domElement(4,"div",4)(5,"div",4),s.\u0275\u0275domElementEnd()()()),i&2&&(s.\u0275\u0275advance(4),s.\u0275\u0275styleProp("--w","50%"),s.\u0275\u0275advance(),s.\u0275\u0275styleProp("--w","70%"))}var g=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["mfe-user-loading"]],hostAttrs:[1,"mfe-user-w-full","mfe-user-flex","mfe-user-flex-col"],decls:2,vars:1,consts:[[1,"mfe-user-mx-auto","mfe-user-w-full","mfe-user-rounded-md","mfe-user-p-4"],[1,"mfe-user-flex","mfe-user-animate-pulse","mfe-user-space-x-4","mfe-user-items-center"],[1,"mfe-user-size-14","mfe-user-rounded-2xl","mfe-user-bg-gray-200"],[1,"mfe-user-flex-1","mfe-user-space-y-4","mfe-user-py-1"],[1,"mfe-user-w-[--w]","mfe-user-h-2","mfe-user-rounded","mfe-user-bg-gray-200"]],template:function(r,o){r&1&&s.\u0275\u0275repeaterCreate(0,V,6,4,"div",0,s.\u0275\u0275repeaterTrackByIndex),r&2&&s.\u0275\u0275repeater(s.\u0275\u0275pureFunction0(0,F))},encapsulation:2})}return i})();import*as t from"@angular/core";import*as v from"@angular/common";var W=(i,a)=>a.job.id;function B(i,a){if(i&1){let n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",13),t.\u0275\u0275listener("click",function(){let o=t.\u0275\u0275restoreView(n).$implicit,l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.setStatusFilter(o.value))}),t.\u0275\u0275text(1),t.\u0275\u0275elementStart(2,"span",14),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(i&2){let n=a.$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(r.getFilterButtonClasses(n.value)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.label," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" (",r.getApplicationCount(n.value),") ")}}function P(i,a){i&1&&t.\u0275\u0275element(0,"mfe-user-loading")}function U(i,a){if(i&1&&t.\u0275\u0275element(0,"mfe-user-job-application",15),i&2){let n=a.$implicit;t.\u0275\u0275property("application",n)}}function $(i,a){if(i&1&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"i",16),t.\u0275\u0275elementStart(2,"p",17),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",18),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),i&2){let n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.getEmptyStateMessage()," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.getEmptyStateSubMessage()," ")}}function O(i,a){if(i&1&&t.\u0275\u0275repeaterCreate(0,U,1,1,"mfe-user-job-application",15,W,!1,$,6,2,"div",11),i&2){let n=t.\u0275\u0275nextContext();t.\u0275\u0275repeater(n.filteredApplications())}}function z(i,a){if(i&1&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275element(1,"i",16),t.\u0275\u0275elementStart(2,"p",17),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",18),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()),i&2){let n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.getEmptyStateMessage()," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.getEmptyStateSubMessage()," ")}}var xe=(()=>{class i{appliedJobsStore=N(b);applications=this.appliedJobsStore.jobApplications;statusFilter=R("all");statusFilters=[{value:"all",label:"All Applications"},{value:"SUBMITTED",label:"Submitted"},{value:"VIEWED",label:"Viewed"},{value:"INTERVIEW",label:"Interview"},{value:"ACCEPTED",label:"Accepted"},{value:"REJECTED",label:"Rejected"}];filteredApplications=k(()=>{let n=this.statusFilter(),r=this.applications()??[];return n==="all"?r:r.filter(o=>o.status===n)});ngOnInit(){this.appliedJobsStore.loadJobApplications()}setStatusFilter(n){this.statusFilter.set(n)}getApplicationCount(n){return n==="all"?(this.applications()??[]).length:(this.applications()??[]).filter(r=>r.status===n).length}getFilterButtonClasses(n){let r=this.statusFilter()===n,o="mfe-user-px-4 mfe-user-py-2 mfe-user-rounded-lg mfe-user-text-sm mfe-user-font-medium mfe-user-transition mfe-user-duration-200 mfe-user-whitespace-nowrap";return r?`${o} mfe-user-bg-blue-100 mfe-user-text-blue-700 mfe-user-border mfe-user-border-blue-200`:`${o} mfe-user-bg-gray-100 mfe-user-text-gray-700 mfe-user-border mfe-user-border-transparent hover:mfe-user-bg-gray-200`}getEmptyStateMessage(){let n=this.statusFilter();return n==="all"?"No job applications yet":{all:"No job applications yet",SUBMITTED:"No submitted applications",VIEWED:"No applications viewed yet",INTERVIEW:"No interview invitations",ACCEPTED:"No accepted applications",REJECTED:"No rejected applications"}[n]}getEmptyStateSubMessage(){return this.statusFilter()==="all"?"Start applying to jobs to see your progress here":"Applications with this status will appear here"}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["mfe-user-me-shell"]],decls:18,vars:2,consts:[["ngxClass","md:mfe-user-pt-[5rem]"],[1,"mfe-user-w-full","mfe-user-mb-40","md:mfe-user-space-x-6","md:mfe-user-flex"],[1,"mfe-user-w-full"],[1,"mfe-user-w-full","mfe-user-flex","mfe-user-flex-col","mfe-user-space-y-4"],[1,"max-sm:mfe-user-h-[90vh]","max-sm:mfe-user-border","max-sm:mfe-user-rounded-lg","mfe-user-bg-white"],[1,"mfe-user-px-4","mfe-user-py-4","mfe-user-space-y-4"],[1,"mfe-user-space-y-2"],[1,"mfe-user-text-2xl","mfe-user-font-semibold","mfe-user-text-gray-900"],[1,"mfe-user-text-gray-600","mfe-user-text-sm"],[1,"mfe-user-flex","mfe-user-gap-2","mfe-user-overflow-x-auto","mfe-user-pb-2"],["class","mfe-user-px-4 mfe-user-py-2 mfe-user-rounded-lg mfe-user-text-sm mfe-user-font-medium mfe-user-transition mfe-user-duration-200 mfe-user-whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"mfe-user-text-center","mfe-user-py-12","mfe-user-text-gray-500"],[1,"mfe-user-hidden","mfe-user-w-[400px]","lg:mfe-user-flex","mfe-user-flex-col","mfe-user-space-y-4"],[1,"mfe-user-px-4","mfe-user-py-2","mfe-user-rounded-lg","mfe-user-text-sm","mfe-user-font-medium","mfe-user-transition","mfe-user-duration-200","mfe-user-whitespace-nowrap",3,"click"],[1,"mfe-user-ml-1","mfe-user-text-xs","mfe-user-opacity-70"],[3,"application"],[1,"fa-solid","fa-briefcase","mfe-user-text-4xl","mfe-user-mb-4","mfe-user-text-gray-300"],[1,"mfe-user-text-lg"],[1,"mfe-user-text-sm","mfe-user-mt-1"]],template:function(r,o){r&1&&(t.\u0275\u0275elementStart(0,"mfe-user-section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),t.\u0275\u0275text(8," Applied Jobs "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"p",8),t.\u0275\u0275text(10," Track your job applications in one place. "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",9),t.\u0275\u0275template(12,B,4,4,"button",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",3),t.\u0275\u0275conditionalCreate(14,P,1,0,"mfe-user-loading")(15,O,3,1)(16,z,6,2,"div",11),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275element(17,"div",12),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(12),t.\u0275\u0275property("ngForOf",o.statusFilters),t.\u0275\u0275advance(2),t.\u0275\u0275conditional(o.applications()===null?14:o.applications().length>0?15:16))},dependencies:[L,v.NgForOf,u,f,g],encapsulation:2})}return i})();export{xe as ShellAppliedJobsComponent};
